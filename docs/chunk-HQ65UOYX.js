import{h}from"./chunk-MBSDS6MC.js";import{N as y,S as d}from"./chunk-A6L7E56T.js";import{a as p}from"./chunk-ODN5LVDJ.js";var m=class a{constructor(t){this.router=t}loggedIn=!1;createUser(t,e){let n=this.generateToken();return localStorage.setItem("authToken",n),n}login(t,e){if(t==="admin"&&e==="password"){this.loggedIn=!0;let n=this.createUser(t,e);return localStorage.setItem("authToken",n),this.router.navigate(["/worksites"]),!0}return!1}logout(){this.loggedIn=!1,localStorage.removeItem("authToken"),this.router.navigate(["/login"])}isAuthenticated(){return this.loggedIn||localStorage.getItem("authToken")!==null}generateToken(){return Math.random().toString(36).substr(2)}static \u0275fac=function(e){return new(e||a)(d(h))};static \u0275prov=y({token:a,factory:a.\u0275fac,providedIn:"root"})};var I=class a{static isArray(t,e=!0){return Array.isArray(t)&&(e||t.length!==0)}static isObject(t,e=!0){return typeof t=="object"&&!Array.isArray(t)&&t!=null&&(e||Object.keys(t).length!==0)}static equals(t,e,n){return n?this.resolveFieldData(t,n)===this.resolveFieldData(e,n):this.equalsByValue(t,e)}static equalsByValue(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){var n=Array.isArray(t),s=Array.isArray(e),r,i,f;if(n&&s){if(i=t.length,i!=e.length)return!1;for(r=i;r--!==0;)if(!this.equalsByValue(t[r],e[r]))return!1;return!0}if(n!=s)return!1;var u=this.isDate(t),c=this.isDate(e);if(u!=c)return!1;if(u&&c)return t.getTime()==e.getTime();var o=t instanceof RegExp,g=e instanceof RegExp;if(o!=g)return!1;if(o&&g)return t.toString()==e.toString();var l=Object.keys(t);if(i=l.length,i!==Object.keys(e).length)return!1;for(r=i;r--!==0;)if(!Object.prototype.hasOwnProperty.call(e,l[r]))return!1;for(r=i;r--!==0;)if(f=l[r],!this.equalsByValue(t[f],e[f]))return!1;return!0}return t!==t&&e!==e}static resolveFieldData(t,e){if(t&&e){if(this.isFunction(e))return e(t);if(e.indexOf(".")==-1)return t[e];{let n=e.split("."),s=t;for(let r=0,i=n.length;r<i;++r){if(s==null)return null;s=s[n[r]]}return s}}else return null}static isFunction(t){return!!(t&&t.constructor&&t.call&&t.apply)}static reorderArray(t,e,n){let s;t&&e!==n&&(n>=t.length&&(n%=t.length,e%=t.length),t.splice(n,0,t.splice(e,1)[0]))}static insertIntoOrderedArray(t,e,n,s){if(n.length>0){let r=!1;for(let i=0;i<n.length;i++)if(this.findIndexInList(n[i],s)>e){n.splice(i,0,t),r=!0;break}r||n.push(t)}else n.push(t)}static findIndexInList(t,e){let n=-1;if(e){for(let s=0;s<e.length;s++)if(e[s]==t){n=s;break}}return n}static contains(t,e){if(t!=null&&e&&e.length){for(let n of e)if(this.equals(t,n))return!0}return!1}static removeAccents(t){return t&&(t=t.normalize("NFKD").replace(new RegExp("\\p{Diacritic}","gu"),"")),t}static isDate(t){return Object.prototype.toString.call(t)==="[object Date]"}static isEmpty(t){return t==null||t===""||Array.isArray(t)&&t.length===0||!this.isDate(t)&&typeof t=="object"&&Object.keys(t).length===0}static isNotEmpty(t){return!this.isEmpty(t)}static compare(t,e,n,s=1){let r=-1,i=this.isEmpty(t),f=this.isEmpty(e);return i&&f?r=0:i?r=s:f?r=-s:typeof t=="string"&&typeof e=="string"?r=t.localeCompare(e,n,{numeric:!0}):r=t<e?-1:t>e?1:0,r}static sort(t,e,n=1,s,r=1){let i=a.compare(t,e,s,n),f=n;return(a.isEmpty(t)||a.isEmpty(e))&&(f=r===1?n:r),f*i}static merge(t,e){if(!(t==null&&e==null)){{if((t==null||typeof t=="object")&&(e==null||typeof e=="object"))return p(p({},t||{}),e||{});if((t==null||typeof t=="string")&&(e==null||typeof e=="string"))return[t||"",e||""].join(" ")}return e||t}}static isPrintableCharacter(t=""){return this.isNotEmpty(t)&&t.length===1&&t.match(/\S| /)}static getItemValue(t,...e){return this.isFunction(t)?t(...e):t}static findLastIndex(t,e){let n=-1;if(this.isNotEmpty(t))try{n=t.findLastIndex(e)}catch{n=t.lastIndexOf([...t].reverse().find(e))}return n}static findLast(t,e){let n;if(this.isNotEmpty(t))try{n=t.findLast(e)}catch{n=[...t].reverse().find(e)}return n}static deepEquals(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){var n=Array.isArray(t),s=Array.isArray(e),r,i,f;if(n&&s){if(i=t.length,i!=e.length)return!1;for(r=i;r--!==0;)if(!this.deepEquals(t[r],e[r]))return!1;return!0}if(n!=s)return!1;var u=t instanceof Date,c=e instanceof Date;if(u!=c)return!1;if(u&&c)return t.getTime()==e.getTime();var o=t instanceof RegExp,g=e instanceof RegExp;if(o!=g)return!1;if(o&&g)return t.toString()==e.toString();var l=Object.keys(t);if(i=l.length,i!==Object.keys(e).length)return!1;for(r=i;r--!==0;)if(!Object.prototype.hasOwnProperty.call(e,l[r]))return!1;for(r=i;r--!==0;)if(f=l[r],!this.deepEquals(t[f],e[f]))return!1;return!0}return t!==t&&e!==e}static minifyCSS(t){return t&&t.replace(/\/\*(?:(?!\*\/)[\s\S])*\*\/|[\r\n\t]+/g,"").replace(/ {2,}/g," ").replace(/ ([{:}]) /g,"$1").replace(/([;,]) /g,"$1").replace(/ !/g,"!").replace(/: /g,":")}static toFlatCase(t){return this.isString(t)?t.replace(/(-|_)/g,"").toLowerCase():t}static isString(t,e=!0){return typeof t=="string"&&(e||t!=="")}},x=0;function D(a="pn_id_"){return x++,`${a}${x}`}function E(){let a=[],t=(r,i)=>{let f=a.length>0?a[a.length-1]:{key:r,value:i},u=f.value+(f.key===r?0:i)+2;return a.push({key:r,value:u}),u},e=r=>{a=a.filter(i=>i.value!==r)},n=()=>a.length>0?a[a.length-1].value:0,s=r=>r&&parseInt(r.style.zIndex,10)||0;return{get:s,set:(r,i,f)=>{i&&(i.style.zIndex=String(t(r,f)))},clear:r=>{r&&(e(s(r)),r.style.zIndex="")},getCurrent:()=>n()}}var T=E();export{I as a,D as b,T as c,m as d};
